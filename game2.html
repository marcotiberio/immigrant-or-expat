<?xml version = "1.0" encoding = "utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!-- Fig. 10.14: quiz.html -->
<!-- Online quiz graded with Javascript. -->
<html xmlns = "http://www.w3.org/1999/xhtml">
<head>
<title>Online Quiz</title>
<script type = "text/Javascript">
// From: http://www.dreamincode.net/forums/showtopic94576.htm
var rimg = 0;
var pictures = [ "assets/pics/TIBO_0220_MEMORIAL001", "EPT", "GPP", "GUI", "PERF", "PORT", "SEO" ];
function randpics(){
// pick a random image from the pictures array and displays by
// creating an img tag and appending the src attribute to the filename
  rimg = Math.floor(Math.random() * 7);
  document.getElementById('tip').src = pictures[rimg]+'.jpg';
// remove following when images are available
  document.getElementById('tip').alt = rimg + ' : ' +pictures[rimg]+'.jpg';
}
function getRBtnName(GrpName) {
  var sel = document.getElementsByName(GrpName);
  var fnd = -1;
  var str = '';
  for (var i=0; i<sel.length; i++) {
    if (sel[i].checked == true) { str = sel[i].value;  fnd = i; }
  }
  return fnd;   // return option index of selection
// comment out next line if option index used in line above 
//  return str;
}
function checkAnswers() {
  var choice = getRBtnName('radiobutton');
  var flag = false;
  if (choice == rimg) { flag = true; alert( "Congratulations, your answer is correct" ); }
                 else { alert('Nope ... try again'); }
  return flag; 
} // end function checkAnswers
</script>
</head>

<body onload="randpics()">

<form id = "myQuiz" onsubmit = "return checkAnswers()" action = "">
<p>Select the name of the tip that goes with the image shown:<br />
   <img id="tip" src="" alt="mystery tip"/>
   <br />
   <input type = "radio" name = "radiobutton" value = "TIBO_0220_MEMORIAL001" />
   <label>Common Programming Error</label>
   <input type = "radio" name = "radiobutton" value = "EPT" />
   <label>Error-Prevention Tip</label>
   <input type = "radio" name = "radiobutton" value = "PERF" />
   <label>Performance Tip</label>
   <input type = "radio" name = "radiobutton" value = "PORT" />
   <label>Portability Tip</label><br />
   <input type = "radio" name = "radiobutton" value = "SEO" />
   <label>Software engineering observation</label>
   <input type = "radio" name = "radiobutton" value = "GUI" />
   <label>graphical user interface</label>
   <input type = "radio" name = "radiobutton" value = "GPP" />
   <label>Good programming practice</label><br />
   <input type = "submit" name = "submit" value = "Submit" />
   <input type = "reset" name = "reset" value = "Reset" />
</p>
</form>
</body>
</html>
